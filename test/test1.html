<script>
    let req = [[3,1], [2,1], [2,2], [1,8]]; // 요청할 값

    function solution(tickets, requests) {
        let remainTicketCnt = tickets;
        let ticketCnt = 0;

        requests.sort((a,b) => { // 1. arr[0]이 같으면 arr[1] 기준으로 내림차순 정렬한다
            if(a[0] == b[0]) {
                return b[1] - a[1]
            } else {
                return a[0] - b[0]
            }
        });
        console.log(requests);

        requests.forEach(item => {
            if(remainTicketCnt >= item[1] && item[1] <= tickets) { // 2. 남은 티켓보다 구매를 원하는 티켓이 같거나 적어야 구매 가능
                remainTicketCnt -= item[1];
                ticketCnt += item[1];
            }
        });

        return ticketCnt;
    }

    console.log(solution(10, req));

</script>