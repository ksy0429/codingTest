<script>
    let req = [[3,1], [2,1], [2,2], [1,8]];

    function solution(tickets, requests) {
        let remainTicketCnt = tickets;
        let ticketCnt = 0;

        requests.sort((a,b) => {
            if(a[0] == b[0]) {
                return b[1] - a[1]
            } else {
                return a[0] - b[0]
            }
        });
        console.log(requests);

        requests.forEach(item => {
            if(remainTicketCnt >= item[1] && item[1] <= tickets) {
                remainTicketCnt -= item[1];
                ticketCnt += item[1];
            }
        });

        return ticketCnt;
    }

    solution(10, req)

</script>